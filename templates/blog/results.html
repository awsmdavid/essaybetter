{% extends 'base.html' %}

{% block script1 %}
    <!--Load the AJAX API for google graphs-->
        <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
            ['Sentence', 'Sentiment Score'],
            {% for sentence in sentiment_trend %}
            [{{forloop.counter}},  {{sentence}}],
            {% endfor %}
        ]);

        var options = {
          title: 'Sentiment Chart',
          hAxis: {title: 'Sentence',  titleTextStyle: {color: '#333'}},
          // vAxis: {minValue: .4}
        };

        var chart = new google.visualization.AreaChart(document.getElementById('sentiment_chart_div'));
        chart.draw(data, options);
      }
    </script>
{% endblock %}
 
{% block content1 %}
<!--     <h1>
        Your Text
    </h1> -->
    <div>
        <h2>original text</h2>
        <div class="panel">
            <span id="original-text">{{search_results.original_text}}</span>
        </div>
        <a href="">
            want more data?
        </a>
<!--         <h2>list of words</h2>
        {{search_results.word_list}}<br>
        <h2>count of words minus articles</h2>
        {{search_results.words_count}}<br> -->

        <br>
        
    </div>
{% endblock %}

{% block content2 %}
    <h2>
        oversused words
    </h2>
    {% for word in synonyms_list %}
        <div class="panel">
            <a class="toggle-expand">[+]</a>
            
                <h3 class="word">{{ word.0.0 }}</h3>
                Used: {{ word.0.1 }} times
            
            <div class="word-metadata">
                <h4>Part of Speech:</h4>
                <div>{{ word.0.2.0 }}</div>
                <h4>Definition:</h4>
                <div>{{ word.0.2.1 }}</div>
                <h4>Synonyms:</h4>
                <div>{{ word.0.2.2 }} </div>  
            </div>          
        </div>
    {% endfor %}
    <h2>
        sentiment
    </h2>
    <div class="panel">
        Average Sentiment<br>
        {{sentiment_score}}   
    </div>
    <div class="panel">
        Certainty Score<br>
        {{certainty_score}}
    </div>
    <div class="panel">
        Graph of Sentiment<br>
        {{sentiment_trend}}   
        <div id="sentiment_chart_div"></div>
    </div>
    <h2>
        complexity
    </h2>
    <div class="panel">
        Complexity<br>
        {{sentence_complexity.complexity_variance}}<br>
        Average Sentence Length<br>
        {{sentence_complexity.avg_len}}<br>
        Min Length<br>
        {{sentence_complexity.min_length}}<br>
        Max Length<br>
        {{sentence_complexity.max_length}}<br>
    </div>
    <div class="panel">
        Structure Score<br>
        {{structural_score}}
    </div>
</div>    
{% endblock %}